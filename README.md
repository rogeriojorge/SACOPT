# SACOPT
Stellarator Axis Coil Optimization Code

One-step optimization code for the magnetic axis and coil shapes of stellarator devices.
Requires SIMSOPT, QSC and PYOCULUS to run main optimization class.

Extra functionalities:
- Export to the quasisymmetry code to plot near-axis quantities and output to VMEC (assuming quasisymmetry executable is in the same folder)
- Run VMEC (assuming VMEC executable is in the same folder)
- Run BOOZ_XFORM to assess level of quasisymmetry (assuming BOOZ_XFORM executable is in the same folder)
- Run SPEC to look at equilibrium (assuming pySPEC is installed, reads output from quasisymmetry code)
- Run REGCOIL and cutCoilsFromRegcoil to get a set of coils for a particular equilibrium generated by VMEC (assuming REGCOIL executable is in the same folder)
- Run FIELDLINES to look at resulting Poincare plots from a given set of coils from REGCOIL (assuming FIELDINES executable is in the same folder)

More info:
- As of this version, SACOPT requires the cylindrical_field branch from the pyoculus repository https://github.com/zhisong/pyoculus in order to be able to compute residues from SIMSGEO

Next steps:
- Make residue calculation faster
- Define more optimization objective functions for coil-axis optimization
- Reduce residue initial parameters initial guess, p, q, sbegin, send to a smaller set by computing guess, sbegin, and send automatically
- Allow initial parameters for the residue calculation in the optimization loop to be provided in the input file
- Allow initial conditions for FIELDLINES to be specified in the input file
- Make a repository of stellarators callable from within SACOPT's input file
- Save stellarator configurations resulting from optimization loops
- Make Poincare plot in the beginning of coil-axis optimization loop and at the end using pyoculusPoincare's function
- Save results in folders insted of files in main folder
- Use python wrappers of VMEC and BOOZ_XFORM instead of executables from STELLOPT
- Parallelize whatever can be parallelized
- Make a Results file not being read by GIT
- Plot iota from SPEC
- Plot thick coils resulting from REGCOIL/SIMSGEO together with plasma boundary and magnetic axis
